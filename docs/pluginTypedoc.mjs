import starlightTypeDoc from 'starlight-typedoc'
import { typedocSidebar } from './sidebar.mjs'

export const pluginTypedoc = () =>
	starlightTypeDoc({
		entryPoints: [
			'../packages/actions',
			'../packages/base-client',
			'../packages/blockchain',
			'../packages/evm',
			'../packages/actions-types',
			'../packages/client-types',
			'../packages/contract',
			'../packages/common',
			'../packages/errors',
			'../packages/jsonrpc',
			'../packages/vm',
			'../packages/decorators',
			'../packages/utils',
			'../packages/evm',
			'../packages/state',
			'../packages/zod',
			'../packages/memory-client',
			'../packages/precompiles/',
			'../packages/predeploys',
			'../packages/procedures',
			'../packages/procedures-types',
			'../packages/predeploys',
			'../packages/http-client',
			'../packages/server',
			'../packages/sync-storage-persister',
			'../extensions/viem',
			'../extensions/ethers',
			'../bundler-packages/base-bundler',
			'../bundler-packages/bun',
			'../bundler-packages/bundler-cache',
			'../bundler-packages/unplugin',
			'../bundler-packages/runtime',
			'../bundler-packages/compiler',
			'../bundler-packages/solc',
			'../bundler-packages/config',
			'../bundler-packages/esbuild',
			'../bundler-packages/rollup',
			'../bundler-packages/rspack',
			'../bundler-packages/ts-plugin',
			'../bundler-packages/vite',
			'../bundler-packages/webpack',
		],
		tsconfig: '../tevm/tsconfig.json',
		output: 'reference',
		sidebar: typedocSidebar,
		typeDoc: {
			gitRevision: 'main',
			entryPointStrategy: 'packages',
		},
	})
